<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Plotbot Architecture Review & Refactor Proposal</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: #333;
            line-height: 1.6;
            padding: 20px;
        }

        .container {
            max-width: 1400px;
            margin: 0 auto;
            background: rgba(255, 255, 255, 0.95);
            border-radius: 20px;
            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.1);
            overflow: hidden;
        }

        header {
            background: linear-gradient(135deg, #4f46e5 0%, #7c3aed 100%);
            color: white;
            text-align: center;
            padding: 40px 20px;
        }

        h1 {
            font-size: 2.5em;
            margin-bottom: 10px;
            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.3);
        }

        .subtitle {
            font-size: 1.2em;
            opacity: 0.9;
        }

        .content {
            padding: 40px;
        }

        .executive-summary {
            background: linear-gradient(135deg, #ffecd2 0%, #fcb69f 100%);
            border-radius: 15px;
            padding: 30px;
            margin-bottom: 40px;
            border-left: 5px solid #f59e0b;
        }

        .function-analysis {
            margin-bottom: 50px;
        }

        .function-card {
            border-radius: 15px;
            overflow: hidden;
            box-shadow: 0 10px 20px rgba(0, 0, 0, 0.1);
            margin-bottom: 30px;
        }

        .function-header {
            padding: 20px 30px;
            color: white;
            font-weight: bold;
            font-size: 1.3em;
        }

        .plotbot-main { background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); }
        .multiplot { background: linear-gradient(135deg, #f093fb 0%, #f5576c 100%); }
        .showdahodo { background: linear-gradient(135deg, #4facfe 0%, #00f2fe 100%); }

        .function-content {
            background: white;
            padding: 30px;
        }

        .metrics-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(120px, 1fr));
            gap: 15px;
            margin-bottom: 25px;
        }

        .metric {
            text-align: center;
            padding: 15px;
            border-radius: 10px;
            background: #f8fafc;
            border: 2px solid #e2e8f0;
        }

        .metric-value {
            font-size: 1.8em;
            font-weight: bold;
            color: #4f46e5;
        }

        .metric-label {
            font-size: 0.85em;
            color: #64748b;
            margin-top: 5px;
        }

        .phase-analysis {
            background: #f1f5f9;
            border-radius: 10px;
            padding: 20px;
            margin: 20px 0;
        }

        .phase-list {
            list-style: none;
            padding: 0;
        }

        .phase-list li {
            background: white;
            margin: 8px 0;
            padding: 12px 15px;
            border-radius: 8px;
            border-left: 4px solid #4f46e5;
            font-size: 0.95em;
        }

        .complexity-badge {
            display: inline-block;
            padding: 4px 12px;
            border-radius: 20px;
            font-weight: bold;
            font-size: 0.8em;
            margin-left: 10px;
        }

        .critical { background: #fee2e2; color: #dc2626; }
        .moderate { background: #fef3c7; color: #d97706; }
        .manageable { background: #dcfce7; color: #16a34a; }

        .refactor-proposal {
            background: linear-gradient(135deg, #ddd6fe 0%, #c4b5fd 100%);
            border-radius: 15px;
            padding: 30px;
            margin: 40px 0;
            border-left: 5px solid #8b5cf6;
        }

        .strategy-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(350px, 1fr));
            gap: 25px;
            margin-top: 30px;
        }

        .strategy-card {
            background: white;
            border-radius: 12px;
            padding: 25px;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
        }

        .strategy-header {
            color: #6366f1;
            font-weight: bold;
            font-size: 1.1em;
            margin-bottom: 15px;
        }

        .code-block {
            background: #1e293b;
            color: #e2e8f0;
            padding: 20px;
            border-radius: 8px;
            font-family: 'Courier New', monospace;
            font-size: 0.9em;
            margin: 15px 0;
            overflow-x: auto;
        }

        .implementation-plan {
            background: linear-gradient(135deg, #d1fae5 0%, #a7f3d0 100%);
            border-radius: 15px;
            padding: 30px;
            margin: 40px 0;
            border-left: 5px solid #10b981;
        }

        .priority-section {
            margin: 25px 0;
        }

        .priority-title {
            font-weight: bold;
            font-size: 1.2em;
            color: #065f46;
            margin-bottom: 15px;
        }

        .task-list {
            list-style: none;
            padding: 0;
        }

        .task-list li {
            background: #ecfdf5;
            margin: 8px 0;
            padding: 12px 15px;
            border-radius: 8px;
            border-left: 3px solid #10b981;
            color: #065f46;
        }

        .task-list li::before {
            content: "üéØ ";
            margin-right: 8px;
        }

        .benefits-section {
            background: linear-gradient(135deg, #e0f2fe 0%, #bae6fd 100%);
            border-radius: 15px;
            padding: 30px;
            margin: 40px 0;
            border-left: 5px solid #0ea5e9;
        }

        .benefit-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
            margin-top: 20px;
        }

        .benefit-item {
            background: white;
            padding: 20px;
            border-radius: 10px;
            text-align: center;
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
        }

        .benefit-icon {
            font-size: 2em;
            margin-bottom: 10px;
        }

        .tabs {
            display: flex;
            background: #f1f5f9;
            border-radius: 10px 10px 0 0;
            overflow: hidden;
        }

        .tab {
            flex: 1;
            padding: 15px 20px;
            background: #e2e8f0;
            cursor: pointer;
            text-align: center;
            font-weight: bold;
            transition: background-color 0.3s;
        }

        .tab.active {
            background: #4f46e5;
            color: white;
        }

        .tab-content {
            background: white;
            padding: 30px;
            border-radius: 0 0 10px 10px;
            display: none;
        }

        .tab-content.active {
            display: block;
        }

        .footer {
            background: #1f2937;
            color: white;
            text-align: center;
            padding: 30px;
            margin-top: 40px;
        }

        @media (max-width: 768px) {
            .content { padding: 20px; }
            .strategy-grid { grid-template-columns: 1fr; }
            .benefit-grid { grid-template-columns: 1fr; }
            .metrics-grid { grid-template-columns: repeat(2, 1fr); }
        }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <h1>ü§ñ Plotbot Architecture Review</h1>
            <p class="subtitle">Thoughtful Refactor Proposal for Space Physics Data Visualization</p>
        </header>

        <div class="content">
            <div class="executive-summary">
                <h2>üìä Executive Summary</h2>
                <p>After careful analysis of Plotbot's sophisticated space physics visualization system, the architecture shows <strong>selective complexity</strong> - some genuinely necessary for domain requirements, others requiring strategic refactoring. The core data acquisition through <code>get_data()</code> is well-architected, but plotting logic contains extractable patterns and the multiplot function needs modularization.</p>
            </div>

            <div class="function-analysis">
                <h2>üîç Detailed Function Analysis</h2>

                <!-- Plotbot Main -->
                <div class="function-card">
                    <div class="function-header plotbot-main">
                        üìà plotbot_main.py - Core Time Series Engine
                    </div>
                    <div class="function-content">
                        <div class="metrics-grid">
                            <div class="metric">
                                <div class="metric-value">871</div>
                                <div class="metric-label">Total Lines</div>
                            </div>
                            <div class="metric">
                                <div class="metric-value">~380</div>
                                <div class="metric-label">Plotting Logic</div>
                            </div>
                            <div class="metric">
                                <div class="metric-value">7</div>
                                <div class="metric-label">Clear Phases</div>
                            </div>
                            <div class="metric">
                                <div class="metric-value">3</div>
                                <div class="metric-label">Plot Types</div>
                            </div>
                        </div>

                        <div class="phase-analysis">
                            <h4>Function Phases <span class="complexity-badge moderate">MODERATE COMPLEXITY</span></h4>
                            <ul class="phase-list">
                                <li><strong>Lazy Imports & Validation</strong> - Clean startup optimization</li>
                                <li><strong>Argument Parsing</strong> - Supports both old/new syntax elegantly</li>
                                <li><strong>Data Structure Setup</strong> - Logical organization of plot requests</li>
                                <li><strong>Custom Variable Handling</strong> - Source data acquisition pattern</li>
                                <li><strong>Regular Variable Loading</strong> - Smart caching with get_data()</li>
                                <li><strong>Variable Preparation</strong> - Retrieval from data_cubby</li>
                                <li><strong>üî• PLOTTING CORE</strong> - 380 lines handling 3 plot types with shared patterns</li>
                            </ul>
                        </div>

                        <h4>‚úÖ Architecture Strengths:</h4>
                        <ul>
                            <li><strong>Excellent data acquisition</strong> through centralized get_data()</li>
                            <li><strong>Smart lazy loading</strong> for performance optimization</li>
                            <li><strong>Flexible argument parsing</strong> maintaining backward compatibility</li>
                            <li><strong>Clear phase separation</strong> for data vs. plotting concerns</li>
                        </ul>

                        <br>

                        <h4>‚ö†Ô∏è Current Weaknesses:</h4>
                        <ul>
                            <li><strong>Plot Type Coupling:</strong> 380-line plotting core with if/elif chains instead of polymorphism</li>
                            <li><strong>Validation Duplication:</strong> Each plot type repeats similar datetime_array and data checks</li>
                            <li><strong>Mixed Responsibilities:</strong> Single function handles data loading, validation, plotting, and formatting</li>
                            <li><strong>Error Handling:</strong> Generic error messages don't provide plot-type specific guidance</li>
                            <li><strong>Testing Challenges:</strong> Large function makes unit testing individual plot types difficult</li>
                        </ul>

                        <br>

                        <h4>üéØ Refactor Opportunities:</h4>
                        <ul>
                            <li><strong>Extract Plot Type Strategy:</strong> time_series, scatter, spectral handlers</li>
                            <li><strong>Extract Data Validation:</strong> Common patterns for datetime_array checks</li>
                            <li><strong>Extract Axis Configuration:</strong> Legend, title, format logic</li>
                        </ul>
                    </div>
                </div>

                <!-- Multiplot -->
                <div class="function-card">
                    <div class="function-header multiplot">
                        üìä multiplot.py - Multi-Panel Encounter Analysis
                    </div>
                    <div class="function-content">
                        <div class="metrics-grid">
                            <div class="metric">
                                <div class="metric-value">2,288</div>
                                <div class="metric-label">Total Lines</div>
                            </div>
                            <div class="metric">
                                <div class="metric-value">~1,600</div>
                                <div class="metric-label">Main Function</div>
                            </div>
                            <div class="metric">
                                <div class="metric-value">5</div>
                                <div class="metric-label">Main Steps</div>
                            </div>
                            <div class="metric">
                                <div class="metric-value">Complex</div>
                                <div class="metric-label">Domain Logic</div>
                            </div>
                        </div>

                        <div class="phase-analysis">
                            <h4>Function Architecture <span class="complexity-badge critical">NEEDS MODULARIZATION</span></h4>
                            <ul class="phase-list">
                                <li><strong>Step 1: Options & Positional Setup</strong> - Complex but necessary for space physics coordinates</li>
                                <li><strong>Step 2: Panel Data Preparation</strong> - Per-encounter time range calculation + data loading</li>
                                <li><strong>Step 3: Figure Configuration</strong> - Subplot creation with layout management</li>
                                <li><strong>Step 4: Panel Population</strong> - ~900 lines of plotting logic per panel type</li>
                                <li><strong>Step 5: Axis Formatting</strong> - Positional coordinate formatting and labeling</li>
                            </ul>
                        </div>

                        <h4>üåü Sophisticated Features (Keep As-Is):</h4>
                        <ul>
                            <li><strong>Positional Axis Mapping:</strong> Carrington coordinates, degrees from perihelion</li>
                            <li><strong>Panel-Specific Time Ranges:</strong> Essential for encounter-centered analysis</li>
                            <li><strong>Rainbow Color Schemes:</strong> Advanced encounter visualization</li>
                            <li><strong>HAM Data Integration:</strong> Overlays for specialized analysis</li>
                        </ul>

                        <br>

                        <h4>‚ö†Ô∏è Critical Weaknesses:</h4>
                        <ul>
                            <li><strong>Unmaintainable Scale:</strong> 1,600-line main function is beyond human cognitive limits</li>
                            <li><strong>Complex State Management:</strong> Multiple global flags, panel-specific variables, and option configurations</li>
                            <li><strong>Deep Nested Logic:</strong> Panels ‚Üí Variables ‚Üí Plot Types ‚Üí Coordinates creates 4-level nesting</li>
                            <li><strong>Tight Coupling:</strong> Positional coordinate logic embedded within plotting loops</li>
                            <li><strong>Testing Impossibility:</strong> Cannot unit test individual components in isolation</li>
                            <li><strong>Memory Inefficiency:</strong> Loads all panel data simultaneously rather than streaming</li>
                            <li><strong>Debugging Nightmare:</strong> Error location difficult to pinpoint in massive function</li>
                        </ul>

                        <br>

                        <h4>üéØ Strategic Refactor Targets:</h4>
                        <ul>
                            <li><strong>Break into 5 focused functions</strong> following the natural step boundaries</li>
                            <li><strong>Extract panel plotting logic</strong> into separate function with plot type dispatch</li>
                            <li><strong>Extract positional coordinate handling</strong> into specialized module</li>
                            <li><strong>Extract time range calculation</strong> into reusable utility</li>
                        </ul>
                    </div>
                </div>

                <!-- Showdahodo -->
                <div class="function-card">
                    <div class="function-header showdahodo">
                        üéØ showdahodo.py - Hodogram Analysis
                    </div>
                    <div class="function-content">
                        <div class="metrics-grid">
                            <div class="metric">
                                <div class="metric-value">594</div>
                                <div class="metric-label">Total Lines</div>
                            </div>
                            <div class="metric">
                                <div class="metric-value">4</div>
                                <div class="metric-label">Clear Parts</div>
                            </div>
                            <div class="metric">
                                <div class="metric-value">2D/3D</div>
                                <div class="metric-label">Plot Modes</div>
                            </div>
                            <div class="metric">
                                <div class="metric-value">Specialized</div>
                                <div class="metric-label">Use Case</div>
                            </div>
                        </div>

                        <div class="phase-analysis">
                            <h4>Function Structure <span class="complexity-badge manageable">WELL-STRUCTURED</span></h4>
                            <ul class="phase-list">
                                <li><strong>Part 1: Data Acquisition</strong> - Uses get_data() pattern (some duplication)</li>
                                <li><strong>Part 2: Helper Functions</strong> - Time interpolation and resampling</li>
                                <li><strong>Part 3: Data Preparation</strong> - Alignment and color assignment</li>
                                <li><strong>Part 4: Hodogram Creation</strong> - Specialized scatter/3D plotting with correlation</li>
                            </ul>
                        </div>

                        <h4>‚úÖ Hodogram-Specific Features:</h4>
                        <ul>
                            <li><strong>Sophisticated Interpolation:</strong> Time-based alignment of multiple variables</li>
                            <li><strong>Correlation Analysis:</strong> Pearson coefficients with trend lines</li>
                            <li><strong>Brazil Plot Mode:</strong> Instability threshold overlays</li>
                            <li><strong>3D Visualization:</strong> Three-variable relationships</li>
                        </ul>

                        <br>

                        <h4>‚ö†Ô∏è Architectural Weaknesses:</h4>
                        <ul>
                            <li><strong>Data Pattern Duplication:</strong> Reimplements custom variable handling from other functions</li>
                            <li><strong>Embedded Interpolation:</strong> Time-based resampling logic not reusable elsewhere</li>
                            <li><strong>Mixed Concerns:</strong> Combines data processing, statistical analysis, and visualization</li>
                            <li><strong>Limited Error Handling:</strong> Edge cases in correlation analysis could cause silent failures</li>
                            <li><strong>Helper Function Isolation:</strong> apply_time_range() and downsample_time_based() not easily testable</li>
                            <li><strong>Hardcoded Analysis:</strong> Brazil plot thresholds and correlation methods not configurable</li>
                        </ul>

                        <br>

                        <h4>üéØ Minor Optimizations:</h4>
                        <ul>
                            <li><strong>Extract data acquisition pattern</strong> shared with other functions</li>
                            <li><strong>Modularize interpolation helpers</strong> for reuse in other analysis functions</li>
                        </ul>
                    </div>
                </div>
            </div>

            <div class="refactor-proposal">
                <h2>üöÄ Strategic Refactor Proposal</h2>
                <p>Based on deep analysis, here's a surgical approach that preserves domain expertise while improving maintainability:</p>

                <div class="strategy-grid">
                    <div class="strategy-card">
                        <div class="strategy-header">1. Extract Plot Type System</div>
                        <p>Create specialized handlers for the three core plot types while preserving their domain-specific logic.</p>
                        <div class="code-block">class PlotTypeStrategy:
    def validate_data(self, var, trange): ...
    def render(self, ax, var, indices): ...

class TimeSeriesPlotter(PlotTypeStrategy): ...
class ScatterPlotter(PlotTypeStrategy): ...  
class SpectralPlotter(PlotTypeStrategy): ...</div>
                    </div>

                    <div class="strategy-card">
                        <div class="strategy-header">2. Extract Data Acquisition Patterns</div>
                        <p>Unify the custom variable handling pattern that appears in all three functions.</p>
                        <div class="code-block">class DataAcquisitionManager:
    def handle_custom_variables(self, vars, trange):
        # Extract the common pattern
        
    def load_regular_variables(self, vars, trange):
        # Centralize get_data() calls</div>
                    </div>

                    <div class="strategy-card">
                        <div class="strategy-header">3. Modularize Multiplot</div>
                        <p>Break the 2,288-line function into logical phases while preserving the sophisticated space physics features.</p>
                        <div class="code-block">def multiplot(plot_list, **kwargs):
    options = setup_multiplot_options(kwargs)
    plot_data = prepare_panel_data(plot_list, options)
    fig, axs = create_multiplot_figure(plot_data, options) 
    populate_panels(fig, axs, plot_data, options)
    apply_final_formatting(fig, axs, options)</div>
                    </div>

                    <div class="strategy-card">
                        <div class="strategy-header">4. Create Positional Coordinate System</div>
                        <p>Extract the sophisticated coordinate mapping into a dedicated subsystem.</p>
                        <div class="code-block">class PositionalCoordinateSystem:
    def map_to_carrington_longitude(self, times): ...
    def map_to_radial_distance(self, times): ...
    def calculate_degrees_from_perihelion(self, times): ...</div>
                    </div>
                </div>
            </div>

            <div class="tabs">
                <div class="tab active" onclick="switchTab(event, 'phase1')">Phase 1: Core Extraction</div>
                <div class="tab" onclick="switchTab(event, 'phase2')">Phase 2: Multiplot Modularization</div>
                <div class="tab" onclick="switchTab(event, 'phase3')">Phase 3: Advanced Features</div>
            </div>

            <div id="phase1" class="tab-content active">
                <div class="implementation-plan">
                    <h3>üéØ Phase 1: Core Pattern Extraction (Weeks 1-3)</h3>
                    
                    <div class="priority-section">
                        <div class="priority-title">Week 1: Plot Type System</div>
                        <ul class="task-list">
                            <li>Create base PlotTypeStrategy class with validate_data() and render() methods</li>
                            <li>Extract TimeSeriesPlotter with shared validation but specialized line plotting</li>
                            <li>Extract ScatterPlotter with scatter-specific attributes (marker_size, alpha, etc.)</li>
                            <li>Extract SpectralPlotter with pcolormesh and colorbar logic</li>
                            <li>Update plotbot_main.py to use strategy pattern instead of if/elif chains</li>
                        </ul>
                    </div>

                    <div class="priority-section">
                        <div class="priority-title">Week 2: Data Acquisition Unification</div>
                        <ul class="task-list">
                            <li>Create DataAcquisitionManager class</li>
                            <li>Extract handle_custom_variables() method from all three functions</li>
                            <li>Extract load_regular_variables() method wrapping get_data() calls</li>
                            <li>Update all three main functions to use the unified manager</li>
                            <li>Remove duplicated custom variable handling code</li>
                        </ul>
                    </div>

                    <div class="priority-section">
                        <div class="priority-title">Week 3: Common Utilities</div>
                        <ul class="task-list">
                            <li>Extract time validation and parsing utilities</li>
                            <li>Extract common axis formatting functions</li>
                            <li>Extract legend and title management utilities</li>
                            <li>Create plotting_utils.py module for shared functions</li>
                        </ul>
                    </div>
                </div>
            </div>

            <div id="phase2" class="tab-content">
                <div class="implementation-plan">
                    <h3>üîß Phase 2: Multiplot Strategic Refactor (Weeks 4-6)</h3>
                    
                    <div class="priority-section">
                        <div class="priority-title">Week 4: Function Decomposition</div>
                        <ul class="task-list">
                            <li>Extract setup_multiplot_options() - Handle kwargs and positional mapping setup</li>
                            <li>Extract prepare_panel_data() - Per-encounter time range calculation and data loading</li>
                            <li>Extract create_multiplot_figure() - Figure creation and subplot configuration</li>
                            <li>Keep main multiplot() function as orchestrator calling these 5 focused functions</li>
                        </ul>
                    </div>

                    <div class="priority-section">
                        <div class="priority-title">Week 5: Panel Plotting Logic</div>
                        <ul class="task-list">
                            <li>Extract populate_panels() function handling the massive plotting loop</li>
                            <li>Extract render_panel() function for individual panel plotting with plot type dispatch</li>
                            <li>Extract ham_data_overlay() function for HAM data integration</li>
                            <li>Preserve all sophisticated positioning and color scheme logic</li>
                        </ul>
                    </div>

                    <div class="priority-section">
                        <div class="priority-title">Week 6: Coordinate System</div>
                        <ul class="task-list">
                            <li>Extract positional coordinate mapping into PositionalCoordinateSystem class</li>
                            <li>Move degrees from perihelion calculation to dedicated utility</li>
                            <li>Extract apply_final_formatting() - Axis labeling and coordinate formatting</li>
                            <li>Comprehensive testing of refactored multiplot functionality</li>
                        </ul>
                    </div>
                </div>
            </div>

            <div id="phase3" class="tab-content">
                <div class="implementation-plan">
                    <h3>üåü Phase 3: Advanced Architectural Improvements (Weeks 7-9)</h3>
                    
                    <div class="priority-section">
                        <div class="priority-title">Week 7: Configuration Management</div>
                        <ul class="task-list">
                            <li>Create PlotConfiguration class managing all plotting options</li>
                            <li>Extract preset management system for publication-ready outputs</li>
                            <li>Create ColorSchemeManager for rainbow and single-color modes</li>
                            <li>Implement configuration validation and error handling</li>
                        </ul>
                    </div>

                    <div class="priority-section">
                        <div class="priority-title">Week 8: Testing Infrastructure</div>
                        <ul class="task-list">
                            <li>Create unit tests for extracted plot type strategies</li>
                            <li>Create integration tests for data acquisition patterns</li>
                            <li>Create regression tests ensuring identical output from refactored functions</li>
                            <li>Performance benchmarking to ensure no regressions</li>
                        </ul>
                    </div>

                    <div class="priority-section">
                        <div class="priority-title">Week 9: Documentation & Polish</div>
                        <ul class="task-list">
                            <li>Update docstrings with clear phase descriptions</li>
                            <li>Create architecture documentation for new modular system</li>
                            <li>Performance optimization pass on extracted functions</li>
                            <li>Final integration testing and performance validation</li>
                        </ul>
                    </div>
                </div>
            </div>

            <div class="benefits-section">
                <h2>üéØ Expected Benefits</h2>
                <div class="benefit-grid">
                    <div class="benefit-item">
                        <div class="benefit-icon">üß™</div>
                        <h4>Improved Testability</h4>
                        <p>Smaller, focused functions enable comprehensive unit testing of plotting logic</p>
                    </div>
                    <div class="benefit-item">
                        <div class="benefit-icon">üîß</div>
                        <h4>Easier Maintenance</h4>
                        <p>Clear separation of concerns makes debugging and feature addition more straightforward</p>
                    </div>
                    <div class="benefit-item">
                        <div class="benefit-icon">üöÄ</div>
                        <h4>Performance Optimization</h4>
                        <p>Extracted functions can be optimized individually and cached where appropriate</p>
                    </div>
                    <div class="benefit-item">
                        <div class="benefit-icon">üìö</div>
                        <h4>Better Documentation</h4>
                        <p>Focused functions with clear responsibilities are easier to document and understand</p>
                    </div>
                    <div class="benefit-item">
                        <div class="benefit-icon">üîÑ</div>
                        <h4>Code Reusability</h4>
                        <p>Extracted utilities can be shared across all plotting functions</p>
                    </div>
                    <div class="benefit-item">
                        <div class="benefit-icon">‚ö°</div>
                        <h4>Feature Development</h4>
                        <p>New plot types and coordinate systems can be added through clean extension points</p>
                    </div>
                </div>
            </div>
        </div>

        <div class="footer">
            <p>ü§ñ Plotbot Architecture Review ‚Ä¢ Generated: September 25, 2025</p>
            <p style="margin-top: 10px; opacity: 0.8;">Strategic refactor preserving domain expertise while improving maintainability</p>
        </div>
    </div>

    <script>
        function switchTab(evt, tabName) {
            var i, tabcontent, tabs;
            
            // Hide all tab content
            tabcontent = document.getElementsByClassName("tab-content");
            for (i = 0; i < tabcontent.length; i++) {
                tabcontent[i].classList.remove("active");
            }
            
            // Remove active class from all tabs
            tabs = document.getElementsByClassName("tab");
            for (i = 0; i < tabs.length; i++) {
                tabs[i].classList.remove("active");
            }
            
            // Show the selected tab content and mark tab as active
            document.getElementById(tabName).classList.add("active");
            evt.currentTarget.classList.add("active");
        }
    </script>
</body>
</html>